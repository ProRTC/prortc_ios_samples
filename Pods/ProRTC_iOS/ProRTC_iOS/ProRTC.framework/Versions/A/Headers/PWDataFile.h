//
//  PWDataFile.h
//  ProRTC
//
//  Copyright (c) 2016 Codiant Software Technologies Pvt Ltd. All rights reserved.
//


#import <Foundation/Foundation.h>

/**
 *  @brief An Objective-C wrapper for a PWDataFile object.
 *  It holds all the information of incoming file/data.
 *
 *  @warning Only applicable when data is transmitting in chunks.
 */
@interface PWDataFile : NSObject

/** An Identifier of received data: all data chunks must have same identifier to identify that they belong to same file. */
@property (nonatomic) NSString *data_id;
/** Name of the incoming file. */
@property (nonatomic) NSString *name;
/** Type (file extension such as: txt, pdf etc). */
@property (nonatomic) NSString *extension;
/** File size. (approx) */
@property (nonatomic) NSString *size;
/** File size in bytes. (approx) */
@property (nonatomic) NSUInteger sizeBits;
/** Remaining file size string that needs to be received. (approx) */
@property (nonatomic) NSString *remainingSize;
/** Total number of chunks: receiving one by one. */
@property (nonatomic) NSInteger totalChunks;
/** Total number of remaining chunks. */
@property (nonatomic) NSInteger remainingChunks;
/** Total number of how many chunks have lost during transmission. */
@property (nonatomic) NSInteger lostChunks;
/** Add chunks into 'chunksQueue' array and combine into single data at the end of the transmission. */
@property (nonatomic, strong) NSMutableArray *chunksQueue;
/** Complete binary data generated by combining chunks. */
@property (nonatomic, strong) NSData *mergedData;
/** Data sender id. */
@property (nonatomic) NSString *senderId;
/** Nickname of data sender. */
@property (nonatomic) NSString *senderDisplayName;
/** Attribute to calculate progress and notify at each 10%.  */
@property (assign) float increasePercentBy;
/** Attribute to determine percent of received data. */
@property (assign) float receivedPercent;

/**
 *  Developers cannot initialize this class directly.
 */
- (instancetype)init __attribute__((unavailable("PWDataFile cannot be created explicitly.")));

@end
